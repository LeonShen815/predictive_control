# Simulation mode
simulation_mode: false             # Is set in launch file!
gazebo_simulation: false

### Kinematic configuration parameter

# Debug mode
activate_output: true
activate_debug_output: true
activate_controller_node_output: true
plotting_result: true

# Clock frequency //hz
clock_frequency: 20

#Optimal control problem dimensions
state_dim: 5
control_dim: 2

# Input and output topics
publish:
    cmd:          '/carla/ego_vehicle/vehicle_control_cmd'
    cmd_sim:      '/prius'
robot_state_topic: '/carla/ego_vehicle/odometry'
obs_state_topic: '/ellipse_objects_feed'
waypoint_topic: '/path_publisher/path' 

# Kinematic chain parameter
robot_base_link: ego_vehicle
target_frame: map # world fixed frame but will be changed according to robot_state_topic
global_path_frame: local_car

# Weight on the slack variable for collision collision
slack_weight: 10000
repulsive_weight: 0.1
reference_velocity: 2.0
initial_speed: 0.0

# Parameters for predefined reference path
global_path:
  x: [11.0307, 14.0307, 16.0307, 18.0307, 20.0307, 22.0307, 24.0307, 26.0307, 28.0307, 30.0307, 32.0307, 34.0307, 36.0307, 38.0307, 40.0307, 42.0307, 44.0307, 46.0307, 48.0307, 50.0307, 52.0307, 54.0307, 56.0307, 58.0307, 60.0307, 62.0307, 64.0306, 66.0306, 68.0306, 70.0306, 72.0306, 74.0306, 76.0306, 78.0306, 79.3769, 81.3769, 83.1736, 84.6582, 86.0232, 87.1492, 87.9236, 88.3236, 88.3712, 88.3716, 88.3718, 88.3721, 88.3724, 88.3727, 88.373, 88.3733, 88.3736, 88.3739, 88.3742, 88.3745, 88.3748, 88.3751, 88.3754, 88.3757, 88.376, 88.3763, 88.3766, 88.377, 88.3772, 88.3775, 88.3778, 88.3781, 88.3784, 88.3787, 88.3788, 88.3792, 88.3794, 88.3798, 88.3801, 88.3804, 88.3805, 88.3808, 88.3811, 88.3814, 88.3817, 88.382, 88.3823, 88.3826, 88.3829, 88.3833, 88.3836, 88.3839, 88.3842, 88.3845, 88.3848, 88.3851, 88.3854, 88.3857, 88.386, 88.3863, 88.3866, 88.3869, 88.3872, 88.3875, 88.3878, 88.3882, 88.3884, 88.3887, 88.389, 88.3893, 88.3896, 88.3899, 88.39, 88.3904, 88.3907, 88.391, 88.3913, 88.3916, 88.3917, 88.392, 88.3923, 88.3926, 88.3929, 88.3932, 88.3935, 88.3938, 88.3941, 88.3945, 88.3948, 88.3951, 88.3954, 88.3957, 88.396, 88.3963, 88.3966, 88.3969, 88.3972, 88.3975, 88.3978, 88.3981, 88.3983, 88.3986, 88.3989, 88.3992, 88.3995, 88.3998, 88.4, 88.4003, 88.4006, 88.4009, 88.4012, 88.4015, 88.4017, 88.402, 88.4023, 88.4026, 88.4029, 88.4032, 88.4035, 88.4038, 88.4041, 88.4044, 88.4047, 88.405, 88.4053, 88.4056, 88.4059, 88.4062, 88.4065, 88.4068, 88.4071, 88.4074, 88.4078, 88.4081, 88.4084, 88.4087, 88.409, 88.4093, 88.4096, 88.4099, 88.4102, 88.4105, 88.4108, 88.4111, 88.4114, 88.4117, 88.412, 88.4123, 88.4126, 88.4129, 88.4132, 88.4135, 88.4138, 88.4141, 88.4144, 88.4147, 88.415, 88.4154, 88.4157, 88.416, 88.4163, 88.4166, 88.4169, 88.4172, 88.4175, 88.4178, 88.4182, 88.4184, 88.3902, 88.0857, 87.4607, 86.5439, 85.3939, 84.044, 82.5636, 80.856, 79.4143, 77.4143, 75.4143, 73.4143, 71.4143, 69.4143, 67.4143, 65.4143, 63.4143, 61.4143, 59.4143, 57.4143, 55.4143, 53.4143, 51.4143, 49.4143, 47.4143, 45.4143, 43.4143, 41.4143, 39.4143, 37.4143, 35.4143, 33.4143, 31.4143, 29.4143, 27.4143, 25.4143, 23.4143, 21.4143, 19.4143, 17.4143, 15.4143, 13.4143, 11.4143, 10.0111, 8.3252, 6.84407, 5.49541, 4.35014, 3.38966, 2.66074, 2.19728, 2.01, 2.01013, 2.01039, 2.01065, 2.01091, 2.01118, 2.01144, 2.0117, 2.01196, 2.01222, 2.01248, 2.01274, 2.013, 2.01326, 2.01353, 2.01379, 2.01405, 2.01431, 2.01457, 2.01483, 2.01509, 2.01535, 2.01561, 2.01588, 2.01614, 2.0164, 2.01666, 2.01692, 2.01718, 2.01744, 2.0177, 2.01796, 2.01823, 2.01849, 2.01875, 2.01901, 2.01927, 2.01953, 2.01979, 2.01979, 2.01874, 2.0177, 2.01665, 2.01561, 2.01456, 2.01352, 2.01247, 2.01143, 2.01038, 2.00934, 2.0083, 2.00725, 2.00621, 2.00516, 2.00412, 2.00307, 2.00203, 2.00098, 1.99994, 1.99889, 1.99785, 1.9968, 1.99576, 1.99472, 1.99367, 1.99263, 1.99158, 1.99054, 1.98949, 1.98845, 1.9874, 1.98636, 1.98531, 1.98427, 1.98322, 1.98218, 1.98114, 1.98009, 1.97905, 1.978, 1.97696, 1.97591, 1.97487, 1.97382, 1.97278, 1.97173, 1.97069, 1.96965, 1.9686, 1.96756, 1.96651, 1.96547, 1.96442, 1.96338, 1.96233, 1.96129, 1.96024, 1.9592, 1.95815, 1.95711, 1.95607, 1.95502, 1.95398, 1.95293, 1.95189, 1.95084, 1.9498, 1.94875, 1.94771, 1.94666, 1.94562, 1.94458, 1.94353, 1.94249, 1.94144, 1.9404, 1.94048, 1.94125, 1.94202, 1.94279, 1.94356, 1.94433, 1.9451, 1.94587, 1.94664, 1.94741, 1.94818, 1.94895, 1.94972, 1.95049, 1.95126, 1.95203, 1.9528, 1.95357, 1.95434, 1.95512, 1.95589, 1.95666, 1.95743, 1.9582, 1.95897, 1.95974, 1.96051, 1.96128, 1.96205, 1.96282, 1.96359, 1.96436, 1.96513, 1.9659, 1.96667, 1.96744, 1.96821, 1.96898, 1.97, 1.97039, 2.09122, 2.56514, 3.37088, 4.47911, 5.83174, 7.32533, 8.89794, 11.0307]
  y: [-1.97967, -1.97902, -1.97837, -1.97772, -1.97707, -1.97641, -1.97576, -1.97511, -1.97446, -1.97381, -1.97316, -1.9725, -1.97185, -1.9712, -1.97055, -1.9699, -1.96924, -1.96859, -1.96794, -1.96729, -1.96664, -1.96599, -1.96533, -1.96468, -1.96403, -1.96338, -1.96273, -1.96207, -1.96142, -1.96077, -1.96012, -1.95947, -1.95882, -1.95816, -1.95773, -1.95707, -1.98927, -2.32064, -2.99216, -3.93658, -5.10816, -6.45438, -8.17007, -10.6673, -11.6673, -13.6673, -15.6673, -17.6673, -19.6673, -21.6673, -23.6673, -25.6673, -27.6673, -29.6673, -31.6673, -33.6673, -35.6673, -37.6673, -39.6673, -41.6673, -43.6673, -46.154, -47.154, -49.154, -51.154, -53.154, -55.154, -57.154, -58.154, -60.154, -62.154, -64.154, -66.154, -68.154, -69.154, -71.154, -73.154, -75.154, -77.154, -79.154, -81.154, -83.154, -85.154, -87.154, -89.154, -91.154, -93.154, -95.154, -97.154, -99.154, -101.154, -103.154, -105.154, -107.154, -109.154, -111.154, -113.154, -115.154, -117.154, -119.836, -120.836, -122.836, -124.836, -126.836, -128.836, -130.836, -131.836, -133.836, -135.836, -137.836, -139.836, -141.836, -142.836, -144.836, -146.836, -148.836, -150.836, -152.836, -154.836, -156.836, -158.836, -160.836, -162.836, -164.836, -166.836, -168.836, -170.836, -172.836, -174.836, -176.836, -178.836, -180.836, -182.836, -184.836, -186.326, -188.326, -190.326, -192.326, -194.326, -196.326, -197.326, -199.326, -201.326, -203.326, -205.326, -207.326, -208.326, -210.326, -212.326, -214.326, -216.326, -218.326, -220.326, -222.326, -224.326, -226.326, -228.326, -230.326, -232.326, -234.326, -236.326, -238.326, -240.326, -242.326, -244.326, -246.326, -248.326, -250.326, -252.326, -254.326, -256.326, -258.326, -260.326, -262.326, -264.326, -266.326, -268.326, -270.326, -272.326, -274.326, -276.326, -278.326, -280.326, -282.326, -284.326, -286.326, -288.326, -290.326, -292.326, -294.326, -296.326, -298.326, -300.326, -302.326, -304.326, -306.326, -308.326, -310.326, -312.326, -314.326, -317.303, -318.303, -320.126, -321.663, -323.101, -324.373, -325.392, -326.116, -326.51, -326.578, -326.577, -326.576, -326.575, -326.574, -326.573, -326.572, -326.571, -326.57, -326.569, -326.568, -326.566, -326.565, -326.564, -326.563, -326.562, -326.561, -326.56, -326.559, -326.558, -326.557, -326.556, -326.555, -326.554, -326.553, -326.551, -326.55, -326.549, -326.548, -326.547, -326.546, -326.545, -326.544, -326.543, -326.542, -326.541, -326.54, -326.459, -326.048, -325.311, -324.286, -322.966, -321.483, -319.896, -317.6, -316.6, -314.6, -312.6, -310.6, -308.6, -306.6, -304.6, -302.6, -300.6, -298.6, -296.6, -294.6, -292.6, -290.6, -288.6, -286.6, -284.6, -282.6, -280.6, -278.6, -276.6, -274.6, -272.6, -270.6, -268.6, -266.6, -264.6, -262.6, -260.6, -258.6, -256.6, -254.6, -252.6, -250.6, -248.6, -246.6, -244.6, -242.6, -240.599, -238.599, -236.599, -234.599, -232.599, -230.599, -228.599, -226.599, -224.599, -222.599, -220.599, -218.599, -216.599, -214.599, -212.599, -210.599, -208.599, -206.599, -204.599, -202.599, -200.599, -198.599, -196.599, -194.599, -192.599, -190.599, -188.599, -186.599, -184.599, -182.599, -180.599, -178.599, -176.599, -174.599, -172.599, -170.599, -168.599, -166.599, -164.599, -162.599, -160.599, -158.599, -156.599, -154.599, -152.599, -150.599, -148.599, -146.599, -144.599, -142.599, -140.599, -138.599, -136.599, -134.599, -132.599, -130.599, -128.599, -126.599, -124.599, -122.599, -120.599, -118.599, -116.599, -114.599, -112.599, -110.599, -108.599, -106.599, -104.599, -102.599, -100.599, -98.599, -96.599, -94.599, -92.599, -90.599, -88.599, -86.6008, -84.6008, -82.6008, -80.6008, -78.6008, -76.6008, -74.6008, -72.6008, -70.6008, -68.6008, -66.6008, -64.6008, -62.6008, -60.6008, -58.6008, -56.6008, -54.6008, -52.6008, -50.6008, -48.6008, -46.6008, -44.6008, -42.6008, -40.6008, -38.6008, -36.6008, -34.6008, -32.6008, -30.6008, -28.6008, -26.6008, -24.6008, -22.6008, -20.6008, -18.6008, -16.6008, -14.6008, -12.6008, -9.96077, -8.96077, -7.36324, -5.9312, -4.656, -3.59372, -2.7595, -2.21664, -1.98766, -1.98]
  theta: [0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.00032591, 0.00032591, -0.100792, -0.338404, -0.576017, -0.839108, -1.13436, -1.42961, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.57064, -1.65891, -1.87354, -2.08817, -2.3028, -2.53298, -2.76527, -2.99756, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 2.98609, 2.75628, 2.52646, 2.29664, 2.11375, 1.94124, 1.76874, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57067, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57132, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.57041, 1.37316, 1.12924, 0.885326, 0.654652, 0.450627, 0.246601, 0.0425754, 0.000325971]
  n_points_clothoid: 40
  n_points_spline: 40

#Road parameters
road_width_right: 2.15
road_width_left: 5.125

# Parameters for collision constraints
obstacles:
      n_obstacles: 2
      sub_ellipse_topic: ellipse_objects_feed
      n_discs: 3
      ego_l: 4.540
      ego_w: 2.250

constraints:
     velocity_constraints:
           min: [0]
           max: [13.8]
     #orientation_constraints:

acado_config:
     max_num_iteration: 70
     kkt_tolerance: 1e-3
     integrator_tolerance: 1e-3
     start_time_horizon: 0.0
     end_time_horizon: 5.0 # 5.0  # control and prediction horizon
     discretization_intervals: 50
     sampling_time: 0.05
     weight_factors:
           contour_weight_factors:
                #Wcontour and Wlag
                [0.1, 0.1]
           control_weight_factors:
                # Wa and Wdelta
                [1.0, 4.0]
                

