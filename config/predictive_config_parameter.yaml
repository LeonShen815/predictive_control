# Simulation mode
simulation_mode: false             # Is set in launch file!
gazebo_simulation: false

### Kinematic configuration parameter

# Debug mode
activate_output: true
activate_debug_output: true
activate_controller_node_output: true
plotting_result: true

# Clock frequency //hz
clock_frequency: 20

#Optimal control problem dimensions
state_dim: 5
control_dim: 2

# Input and output topics
publish:
    cmd:          '/carla/ego_vehicle/vehicle_control_cmd'
    cmd_sim:      '/prius'
robot_state_topic: '/carla/ego_vehicle/odometry'
obs_state_topic: '/ellipse_objects_feed'
waypoint_topic: '/path_publisher/path'
vref_topic: 'rodrigo'

# Kinematic chain parameter
robot_base_link: ego_vehicle
target_frame: map # world fixed frame but will be changed according to robot_state_topic
global_path_frame: local_car

# Weight on the slack variable for collision collision
slack_weight: 10000
repulsive_weight: 0.1
reference_velocity: 2.0
initial_speed: 0.0

# Parameters for predefined reference path
global_path:
  x: [11.8307, 14.0307, 16.0307, 18.0307, 20.0307, 22.0307, 24.0307, 26.0307, 28.0307, 30.0307, 32.0307, 34.0307, 36.0307, 38.0307, 40.0307, 42.0307, 44.0307, 46.0307, 48.0307, 50.0307, 52.0307, 54.0307, 56.0307, 58.0307, 60.0307, 62.0307, 64.0306, 66.0306, 68.0306, 70.0306, 72.0306, 74.0306, 76.0306, 78.0306, 79.3769, 80.7473, 82.7473, 84.7473, 86.7473, 88.7473, 91.7211, 92.7211, 94.7211, 96.7211, 98.7211, 101.377, 102.695, 103.694, 105.694, 107.694, 109.694, 111.694, 113.694, 115.694, 117.694, 119.694, 121.694, 123.694, 125.694, 127.694, 129.694, 131.694, 133.694, 135.694, 137.694, 139.694, 141.694, 143.694, 144.956, 146.956, 148.911, 150.359, 151.697, 152.819, 153.605, 154.018, 154.07, 154.067, 154.066, 154.063, 154.061, 154.058, 154.056, 154.054, 154.051, 154.049, 154.046, 154.044, 154.041, 154.039, 154.037, 154.034, 154.032, 154.029, 154.027, 154.024, 154.023, 154.025, 154.398, 155.347, 156.816, 158.68, 160.826, 163.164, 165.481, 167.173, 169.173, 171.173, 173.173, 175.173, 177.173, 179.173, 181.173, 183.173, 185.173, 187.173, 189.173, 191.173, 193.173, 195.173, 197.173, 199.173, 201.173, 203.173, 205.173, 207.173, 209.173, 211.173, 213.173, 215.173, 217.173, 219.173, 221.173, 223.173, 225.173, 227.173, 229.173, 231.173, 233.173, 235.173, 237.173, 239.173, 241.173, 243.173, 245.173, 247.173, 249.173, 251.173, 253.173, 255.173, 257.173, 259.173, 261.173, 263.173, 265.173, 267.173, 269.173, 271.173, 273.173, 275.173, 277.173, 279.173, 281.173, 283.173, 285.173, 287.173, 289.173, 291.173, 293.173, 295.173, 297.173, 299.173, 301.173, 303.173, 305.173, 307.173, 309.173, 311.173, 313.173, 315.173, 317.173, 319.173, 321.173, 323.173, 325.627, 326.627, 328.857, 331.225, 333.421, 335.342, 336.895, 338.029, 338.695, 338.871, 338.872, 338.873, 338.874, 338.876, 338.877, 338.878, 338.879, 338.88, 338.882, 338.883, 338.884, 338.885, 338.886, 338.888, 338.889, 338.89, 338.891, 338.892, 338.893, 338.895, 338.779, 338.054, 336.713, 334.887, 332.804, 330.516, 328.122, 325.629, 324.629, 322.629, 320.629, 318.629, 316.629, 314.629, 312.629, 310.629, 308.629, 306.629, 304.629, 302.629, 300.629, 298.629, 296.629, 294.629, 292.629, 290.629, 288.628, 286.628, 284.628, 282.628, 280.628, 278.628, 276.628, 274.628, 272.628, 270.628, 268.628, 266.628, 264.628, 262.628, 260.628, 258.628, 256.628, 254.628, 252.628, 250.628, 248.628, 246.628, 244.628, 242.628, 240.628, 238.628, 236.628, 234.628, 232.628, 230.628, 228.628, 226.628, 224.628, 222.628, 220.628, 218.628, 216.628, 214.628, 212.628, 210.628, 208.628, 206.628, 204.628, 202.628, 200.628, 198.628, 196.628, 194.628, 192.628, 190.628, 188.628, 186.628, 184.628, 182.628, 180.628, 178.628, 176.628, 174.628, 172.628, 170.628, 168.083,11.2]
  y: [-1.97967, -1.97902, -1.97837, -1.97772, -1.97707, -1.97641, -1.97576, -1.97511, -1.97446, -1.97381, -1.97316, -1.9725, -1.97185, -1.9712, -1.97055, -1.9699, -1.96924, -1.96859, -1.96794, -1.96729, -1.96664, -1.96599, -1.96533, -1.96468, -1.96403, -1.96338, -1.96273, -1.96207, -1.96142, -1.96077, -1.96012, -1.95947, -1.95882, -1.95816, -1.95773, -1.95728, -1.95663, -1.95597, -1.95532, -1.95467, -1.9537, -1.95338, -1.95272, -1.95207, -1.95142, -1.95056, -1.95013, -1.95007, -1.95028, -1.95049, -1.95071, -1.95092, -1.95113, -1.95135, -1.95156, -1.95177, -1.95199, -1.9522, -1.95241, -1.95263, -1.95284, -1.95305, -1.95327, -1.95348, -1.95369, -1.95391, -1.95412, -1.95433, -1.95447, -1.95468, -1.95624, -2.18213, -2.77952, -3.69568, -4.8549, -6.19351, -7.88732, -10.7073, -11.7073, -13.7073, -15.7073, -17.7073, -19.7073, -21.7073, -23.7073, -25.7073, -27.7073, -29.7073, -31.7073, -33.7073, -35.7073, -37.7073, -39.7073, -41.7073, -43.7073, -46.1947, -47.1947, -49.2573, -51.7068, -53.9957, -55.9907, -57.5657, -58.6958, -59.3423, -59.4909, -59.4906, -59.4904, -59.4902, -59.4899, -59.4897, -59.4894, -59.4892, -59.4889, -59.4887, -59.4885, -59.4882, -59.488, -59.4877, -59.4875, -59.4872, -59.487, -59.4867, -59.4865, -59.4863, -59.486, -59.4858, -59.4855, -59.4853, -59.485, -59.4848, -59.4846, -59.4843, -59.4841, -59.4838, -59.4836, -59.4833, -59.4831, -59.4828, -59.4826, -59.4824, -59.4821, -59.4819, -59.4816, -59.4814, -59.4811, -59.4809, -59.4807, -59.4804, -59.4802, -59.4799, -59.4797, -59.4794, -59.4792, -59.4789, -59.4787, -59.4785, -59.4782, -59.478, -59.4777, -59.4775, -59.4772, -59.477, -59.4768, -59.4765, -59.4763, -59.476, -59.4758, -59.4755, -59.4753, -59.475, -59.4748, -59.4746, -59.4743, -59.4741, -59.4738, -59.4736, -59.4733, -59.4731, -59.4729, -59.4726, -59.4724, -59.4721, -59.4719, -59.4716, -59.4713, -59.4712, -59.3951, -58.8536, -57.8155, -56.3294, -54.4787, -52.347, -50.0263, -47.6883, -46.4173, -44.4173, -42.4173, -40.4173, -38.4173, -36.4173, -34.4173, -32.4173, -30.4173, -28.4173, -26.4173, -24.4173, -22.4173, -20.4173, -18.4173, -16.4173, -14.4173, -12.4173, -10.795, -8.79499, -6.48607, -4.06381, -1.92014, -0.225771, 0.983344, 1.73918, 2.00956, 2.01132, 2.01185, 2.01292, 2.01398, 2.01504, 2.0161, 2.01717, 2.01823, 2.01929, 2.02035, 2.02142, 2.02248, 2.02354, 2.0246, 2.02567, 2.02673, 2.02779, 2.02885, 2.02992, 2.0302, 2.03041, 2.03062, 2.03084, 2.03105, 2.03126, 2.03148, 2.03169, 2.0319, 2.03212, 2.03233, 2.03254, 2.03276, 2.03297, 2.03319, 2.0334, 2.03361, 2.03383, 2.03404, 2.03425, 2.03447, 2.03468, 2.03489, 2.03511, 2.03532, 2.03553, 2.03575, 2.03596, 2.03617, 2.03639, 2.0366, 2.03681, 2.03703, 2.03724, 2.03745, 2.03767, 2.03788, 2.03809, 2.03831, 2.03852, 2.03873, 2.03895, 2.03916, 2.03938, 2.03959, 2.0398, 2.04002, 2.04023, 2.04044, 2.04066, 2.04087, 2.04108, 2.0413, 2.04151, 2.04172, 2.04194, 2.04215, 2.04236, 2.04258, 2.04279, 2.04306,2.04]
  theta: [0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, 0.000325971, -0.000106793, -0.000106793, -0.000106793, -0.000106793, -0.000106793, -0.000106793, -0.000106793, -0.000106793, -0.000106793, -0.000106793, -0.000106793, -0.000106793, -0.000106793, -0.000106793, -0.000106793, -0.000106793, -0.000106793, -0.000106793, -0.000106793, -0.000106793, -0.000106793, -0.000106729, -0.000106729, -0.0221913, -0.287322, -0.552453, -0.826208, -1.12324, -1.42026, -1.57201, -1.57201, -1.57201, -1.57201, -1.57201, -1.57201, -1.57201, -1.57201, -1.57201, -1.57201, -1.57201, -1.57201, -1.57201, -1.57201, -1.57201, -1.57201, -1.57201, -1.57201, -1.57201, -1.57201, -1.57201, -1.54071, -1.29884, -1.05696, -0.815087, -0.592246, -0.377291, -0.162335, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121853, 0.000121706, 0.000121853, 0.116439, 0.333228, 0.550017, 0.766806, 0.977262, 1.18668, 1.39609, 1.57019, 1.57019, 1.57019, 1.57019, 1.57019, 1.57019, 1.57019, 1.57019, 1.57019, 1.57019, 1.57019, 1.57019, 1.57019, 1.57019, 1.57019, 1.57019, 1.57019, 1.57019, 1.57019, 1.57019, 1.57019, 1.7277, 1.99575, 2.26379, 2.51246, 2.71912, 2.92578, 3.13245, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14106, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149, 3.14149,3.14]
  n_points_clothoid: 40
  n_points_spline: 40

#Road parameters
road_width_right: 2.15
road_width_left: 5.125

# Parameters for collision constraints
obstacles:
      n_obstacles: 2
      sub_ellipse_topic: ellipse_objects_feed
      n_discs: 3
      ego_l: 4.540
      ego_w: 2.250

constraints:
     velocity_constraints:
           min: [0]
           max: [13.8]
     #orientation_constraints:

acado_config:
     max_num_iteration: 70
     kkt_tolerance: 1e-3
     integrator_tolerance: 1e-3
     start_time_horizon: 0.0
     end_time_horizon: 5.0 # 5.0  # control and prediction horizon
     discretization_intervals: 50
     sampling_time: 0.05
     weight_factors:
           contour_weight_factors:
                #Wcontour and Wlag
                [0.1, 0.1]
           control_weight_factors:
                # Wa and Wdelta
                [1.0, 4.0]
                
